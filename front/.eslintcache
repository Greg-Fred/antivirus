[{"/home/fredo/code/antivirus/antivirus/front/src/reportWebVitals.js":"1","/home/fredo/code/antivirus/antivirus/front/src/index.js":"2","/home/fredo/code/antivirus/antivirus/front/src/App.jsx":"3","/home/fredo/code/antivirus/antivirus/front/src/components/CheckoutForm.jsx":"4","/home/fredo/code/antivirus/antivirus/front/src/RouterSwitch.jsx":"5","/home/fredo/code/antivirus/antivirus/front/src/components/LoginForm.jsx":"6","/home/fredo/code/antivirus/antivirus/front/src/BaseLayout.jsx":"7","/home/fredo/code/antivirus/antivirus/front/src/components/NavBar.jsx":"8","/home/fredo/code/antivirus/antivirus/front/src/pages/Home.jsx":"9","/home/fredo/code/antivirus/antivirus/front/src/components/Modal.jsx":"10","/home/fredo/code/antivirus/antivirus/front/src/components/RegistrationForm.jsx":"11","/home/fredo/code/antivirus/antivirus/front/src/components/NewAccountMessage.jsx":"12","/home/fredo/code/antivirus/antivirus/front/src/contexts/testContext.jsx":"13","/home/fredo/code/antivirus/antivirus/front/src/pages/Dashboard.jsx":"14","/home/fredo/code/antivirus/antivirus/front/src/pages/Login.jsx":"15","/home/fredo/code/antivirus/antivirus/front/src/services/auth.service.js":"16","/home/fredo/code/antivirus/antivirus/front/src/RouterAlternative.jsx":"17","/home/fredo/code/antivirus/antivirus/front/src/services/auth-header.js":"18","/home/fredo/code/antivirus/antivirus/front/src/services/user.service.js":"19","/home/fredo/code/antivirus/antivirus/front/src/components/Dashboard/NavBar.jsx":"20","/home/fredo/code/antivirus/antivirus/front/src/components/Dashboard/DashboardBody.jsx":"21","/home/fredo/code/antivirus/antivirus/front/src/components/Dashboard/VirusComponent.jsx":"22"},{"size":362,"mtime":1608386563551,"results":"23","hashOfConfig":"24"},{"size":630,"mtime":1609939020487,"results":"25","hashOfConfig":"24"},{"size":530,"mtime":1608388613221,"results":"26","hashOfConfig":"24"},{"size":623,"mtime":1608386563547,"results":"27","hashOfConfig":"24"},{"size":2276,"mtime":1609873716887,"results":"28","hashOfConfig":"24"},{"size":6263,"mtime":1609936969005,"results":"29","hashOfConfig":"24"},{"size":506,"mtime":1609839037909,"results":"30","hashOfConfig":"24"},{"size":1663,"mtime":1609856454356,"results":"31","hashOfConfig":"24"},{"size":483,"mtime":1609838329809,"results":"32","hashOfConfig":"24"},{"size":3639,"mtime":1609842138097,"results":"33","hashOfConfig":"24"},{"size":6873,"mtime":1609602058497,"results":"34","hashOfConfig":"24"},{"size":753,"mtime":1609607542006,"results":"35","hashOfConfig":"24"},{"size":142,"mtime":1609606927626,"results":"36","hashOfConfig":"24"},{"size":1640,"mtime":1610101651666,"results":"37","hashOfConfig":"24"},{"size":5920,"mtime":1610117905374,"results":"38","hashOfConfig":"24"},{"size":778,"mtime":1610117892878,"results":"39","hashOfConfig":"24"},{"size":465,"mtime":1610014894944,"results":"40","hashOfConfig":"24"},{"size":223,"mtime":1610022822366,"results":"41","hashOfConfig":"24"},{"size":556,"mtime":1610115590609,"results":"42","hashOfConfig":"24"},{"size":2764,"mtime":1610100985864,"results":"43","hashOfConfig":"24"},{"size":10201,"mtime":1610113944103,"results":"44","hashOfConfig":"24"},{"size":2239,"mtime":1610113222864,"results":"45","hashOfConfig":"24"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},"i81hqo",{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"51"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"55"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"48"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":5,"source":null},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"68"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"72"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"76"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":5,"source":"79"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"84"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"87","usedDeprecatedRules":"51"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":5,"source":null},{"filePath":"90","messages":"91","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"92","messages":"93","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"94","usedDeprecatedRules":"51"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"97","messages":"98","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"99","messages":"100","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"101","usedDeprecatedRules":"51"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"107","usedDeprecatedRules":"108"},"/home/fredo/code/antivirus/antivirus/front/src/reportWebVitals.js",[],["109","110"],"/home/fredo/code/antivirus/antivirus/front/src/index.js",[],["111","112"],"/home/fredo/code/antivirus/antivirus/front/src/App.jsx",["113","114","115"],"import './App.css';\nimport React from 'react';\nimport { loadStripe } from '@stripe/stripe-js';\nimport {\n  Elements,\n} from '@stripe/react-stripe-js';\nimport CheckoutForm from './components/CheckoutForm'\n\nimport RouterSwitch from './RouterSwitch';\n\nconst stripePromise = loadStripe('pk_test_6pRNASCoBOKtIshFeQd4XMUh');\n\nfunction App() {\n  return (\n    // <div className=\"App\">\n    //   <Elements stripe={stripePromise}>\n    //     <CheckoutForm />\n    //   </Elements>\n    // </div>\n    <RouterSwitch/>\n  );\n}\n\nexport default App;\n",["116","117"],"/home/fredo/code/antivirus/antivirus/front/src/components/CheckoutForm.jsx",["118","119"],"import React from 'react';\nimport {\n  CardElement,\n  useStripe,\n  useElements,\n} from '@stripe/react-stripe-js';\n\nconst CheckoutForm = () => {\n  const stripe = useStripe();\n  const elements = useElements();\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const { error, paymentMethod } = await stripe.createPaymentMethod({\n      type: 'card',\n      card: elements.getElement(CardElement),\n    });\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <CardElement />\n      <button type=\"submit\" disabled={!stripe}>\n        Pay\n      </button>\n    </form>\n  );\n};\n\nexport default CheckoutForm\n","/home/fredo/code/antivirus/antivirus/front/src/RouterSwitch.jsx",[],"/home/fredo/code/antivirus/antivirus/front/src/components/LoginForm.jsx",["120","121","122","123","124","125","126"],"/home/fredo/code/antivirus/antivirus/front/src/BaseLayout.jsx",[],"/home/fredo/code/antivirus/antivirus/front/src/components/NavBar.jsx",["127"],"import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nconst NavBar = (props) => {\n\n  const { toggleRegistration, toggleLogin } = props;\n\n\n  return (\n    <nav>\n      <div className=\"bg-gray-800\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center justify-between h-16\">\n            <div className=\"flex items-center \">\n              <div className=\"flex-shrink-0\">\n                <img className=\"h-8 w-8\" src=\"https://tailwindui.com/img/logos/workflow-mark-indigo-500.svg\" alt=\"\" />\n\n              </div>\n\n            </div>\n\n            <div className=\"hidden md:block\">\n              <div className=\"ml-4 flex items-center md:ml-6\">\n                <p className=\"text-gray-300\">Salut nouvel utilisateur !</p>\n                <div className=\"ml-3 relative\">\n\n\n                  <div>\n                    <Link to=\"/dashboard\">Dashboard</Link>\n\n                  </div>\n\n                  <div>\n                    <button onClick={toggleLogin} className=\"max-w-xs text-gray-300 bg-gray-800  flex items-center text-sm \">\n                      Log in\n                    </button>\n                  </div>\n\n\n\n\n\n\n                </div>\n                <div className=\"ml-3 relative\">\n                  <div>\n                    <button onClick={toggleRegistration} className=\"max-w-xs text-gray-300 bg-gray-800  flex items-center text-sm \">\n                      Sign in\n                    </button>\n                  </div>\n                </div>\n\n              </div>\n            </div>\n\n          </div>\n        </div>\n      </div>\n    </nav>\n\n  )\n};\n\nexport default NavBar\n",["128","129"],"/home/fredo/code/antivirus/antivirus/front/src/pages/Home.jsx",["130","131","132"],"\nimport { useContext, useState } from \"react\";\nimport Modal from '../components/Modal';\nimport testContext from '../contexts/testContext';\n\n\nconst Home = ({ newMessage, registrationStatement, loginStatement}) => {\n\n  const {name, newName} = useContext(testContext);\n\n\n  return(\n    <>\n    <h1>{name}</h1>\n    <h1>{JSON.stringify(newMessage)}</h1>\n      <h1>{JSON.stringify(loginStatement)}</h1>\n      <h1>{JSON.stringify(registrationStatement)}</h1>\n</>\n    )\n}\n\nexport default Home\n",["133","134"],"/home/fredo/code/antivirus/antivirus/front/src/components/Modal.jsx",["135","136"],"import React, { useEffect, useRef, useState } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport LoginForm from '../components/LoginForm'\nimport RegistrationForm from '../components/RegistrationForm'\nimport NewAccountMessage from '../components/NewAccountMessage'\n\nconst Modal = ({ setNewAccountName, newAcountName, toggleAccountMessage, isAccountMessageOn, isRegistrationShowing, hideRegistration, isLoginShowing, hideLogin}) => {\n\nconst modalArea = useRef();\n\nlet toggleDisplay;\n\nlet component;\n\nif (isRegistrationShowing) {\n  toggleDisplay = hideRegistration;\n  component = <RegistrationForm setNewName={setNewAccountName} newAccountMessage={toggleAccountMessage} isLoginShowing={isRegistrationShowing} toggleLogin={hideLogin} toggleRegistration={hideRegistration} isRegistrationShowing={isLoginShowing} />;\n} else if ( isLoginShowing) {\n  toggleDisplay = hideLogin\n  component = <LoginForm isLoginShowing={isRegistrationShowing} toggleLogin={hideLogin} toggleRegistration={hideRegistration} isRegistrationShowing={isLoginShowing} />;\n} else if (isAccountMessageOn) {\n  component = <NewAccountMessage data={newAcountName} />\n  toggleDisplay = toggleAccountMessage;\n}\n\n\n\n\n\n//handle click et le useeffect ont pour but de rajouter la fermeture de la modale quand on click à l'extérieur de la modale. Technique très lourde à refacto ou à revoir entièrement. Pour le moment ça marche. J'ai une petite erreur venant de react mais bon..\nconst handleClick = (e) => {\n  if (modalArea.current.contains(e.target)) {\n    // inside click\n    return;\n  }\n  // outside modal click\n  toggleDisplay();\n};\n\n\n  useEffect(() => {\n    // add when mounted\n    document.addEventListener(\"mousedown\", handleClick);\n    // return function to be called when unmounted\n\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClick);\n    };\n  }, []);\n\n\n  return(\n    isLoginShowing || isRegistrationShowing || isAccountMessageOn ? ReactDOM.createPortal(\n      <React.Fragment>\n        <div className=\" h-auto modal-overlay\">\n          <div className=\"modal-wrapper\">\n            <div ref={modalArea} className=\"modal\">\n              {component}\n\n            </div>\n          </div>\n        </div>\n\n        <style jsx=\"true\">{`\n            .modal-overlay {\n              position: fixed;\n              top: 0;\n              left: 0;\n              width: 100vw;\n              height: 100vh;\n              z-index: 1040;\n              background-color: rgba(0, 0, 0, 0.5);\n            }\n\n            .modal-wrapper {\n              position: fixed;\n              top: 0;\n              left: 0;\n              z-index: 1050;\n              width: 100%;\n              height: 100%;\n              overflow-x: hidden;\n              overflow-y: auto;\n              outline: 0;\n              display: flex;\n              align-items: center;\n            }\n\n            .modal {\n              z-index: 100;\n              background: #fff;\n              position: relative;\n              margin: auto;\n              border-radius: 5px;\n              max-width: 500px;\n              width: 80%;\n              padding: 1rem;\n            }\n\n            .modal-header {\n              display: flex;\n              justify-content: space-between;\n              align-items: center;\n            }\n\n            .modal-close-button {\n              font-size: 1.4rem;\n              font-weight: 700;\n              color: #000;\n              cursor: pointer;\n              border: none;\n              background: transparent;\n            }\n          `}</style>\n      </React.Fragment>,\n      document.body\n    )\n      : null\n  )\n}\n\n\n\n\n\nexport default Modal;\n\n",["137","138"],"/home/fredo/code/antivirus/antivirus/front/src/components/RegistrationForm.jsx",["139","140","141","142","143","144","145"],"import React, { useState } from 'react';\nimport axios from \"axios\";\n\nconst RegistrationForm = ({ setNewName, newAccountMessage, toggleRegistration, toggleLogin, isRegistrationShowing, isLoginShowing}) => {\n\n\n  // Les inputs du formulaire de login\n  const [credentials, setCredentials] = useState({\n    email: '',\n    name: '',\n    password: ''\n  });\n\n  // Les messages d'erreur lié à chacun des champs\n  const [errorMessage, setErrorMessage] = useState({\n    email: '',\n    password: ''\n  });\n\n  const handleSwitchModal = async (e) => {\n    e.preventDefault();\n\n    await toggleRegistration();\n    toggleLogin();\n\n  };\n\n  // Modification des inputs et suppression du message d'erreur en direct\n  const handleOnchange = (e) => {\n    setCredentials(v => ({ ...credentials, [e.target.name]: e.target.value }));\n    setErrorMessage(v => ({ ...errorMessage, [e.target.name]: '' }));\n  };\n\n  // Call api vers le serveur pour se connecter\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (validate()) {\n      try {\n        const data = {\n          newName: credentials.name,\n          newMail: credentials.email,\n          newPdm: credentials.password\n        }\n        const response = await axios.post('http://localhost:3000/auth/signup', { data });\n\n        console.log(\" Votre compte a été créé !\");\n        console.log(response.data.user);\n\n        await toggleRegistration();\n        setNewName(response.data.user.name);\n        newAccountMessage();\n        //Ici on doit traiter en cas de réussite du login !\n\n      } catch (error) {\n        if (error.response.data.message === \"Bad password\") {\n          setErrorMessage(v => ({ ...errorMessage, [\"password\"]: error.response.data.message }));\n          console.log(errorMessage);\n        } else if (error.response.data.message === \"This user don't exist\") {\n          setErrorMessage(v => ({ ...errorMessage, [\"email\"]: error.response.data.message }));\n          console.log(errorMessage);\n        } else {\n          console.log(error.response.data.message);\n        }\n      }\n    }\n  };\n\n  ///// VALIDATION - La validation fonctionne mais est déjà géré par le form, tailwind je suppose. A voir donc\n  const validate = () => {\n\n    let isValid = true;\n\n    if (credentials[\"email\"] === \"\") {\n      isValid = false;\n      setErrorMessage(v => ({ ...errorMessage, [\"email\"]: \"Please enter your email Address.\" }));\n    }\n\n    if (typeof credentials[\"email\"] !== \"\") {\n\n      var pattern = new RegExp(/^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i);\n      if (!pattern.test(credentials[\"email\"])) {\n        isValid = false;\n        setErrorMessage(v => ({ ...errorMessage, [\"email\"]: \"Please enter valid email address.\" }));\n      }\n    }\n\n    if (credentials[\"password\"] === \"\") {\n      isValid = false;\n      setErrorMessage(v => ({ ...errorMessage, [\"password\"]: \"Please enter your password\" }));\n    }\n\n    return isValid;\n  }\n\n\n  return (\n\n    <div className=\" flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8\">\n        <div>\n          <img className=\"mx-44 h-32 w-auto\" src=\"https://www.flaticon.com/svg/static/icons/svg/2484/2484782.svg\"\n            alt=\"Workflow\" />\n          <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\n            Créer ton compte :\n            </h2>\n        </div>\n\n        <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\n\n          <div className=\"rounded-md shadow-sm -space-y-px\">\n            <div>\n              <label htmlFor=\"email-address\" className=\"sr-only\">Email address</label>\n              <input id=\"email-address\" name=\"email\" type=\"email\" required onChange={handleOnchange}\n                className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\n                placeholder=\"Ton Email\" />\n              <div className=\"text-red-600\">{errorMessage.email}</div>\n            </div>\n\n            <div>\n              <label htmlFor=\"name\" className=\"sr-only\">Email address</label>\n              <input id=\"name\" name=\"name\" type=\"name\" required onChange={handleOnchange}\n                className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\n                placeholder=\"Ton nom\" />\n              <div className=\"text-red-600\">{errorMessage.name}</div>\n            </div>\n\n\n            <div>\n              <label htmlFor=\"password\" className=\"sr-only\">Password</label>\n              <input id=\"password\" name=\"password\" require type=\"password\" onChange={handleOnchange}\n                className=\"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm\"\n                placeholder=\"Ton mot de passe\" />\n              <div className=\"text-red-600\">{errorMessage.password}</div>\n            </div>\n          </div>\n\n\n          <div class=\"flex items-center justify-between\">\n            <div class=\"flex items-center\">\n\n              <input id=\"remember_me\" name=\"remember_me\" type=\"checkbox\"\n                class=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\" />\n              <label for=\"remember_me\" class=\"ml-2 block text-sm text-gray-900\">\n                Remember me\n            </label>\n\n            </div>\n\n            <div class=\"text-sm\">\n              <a href=\"/forgotpwd\" class=\"font-medium text-indigo-600 hover:text-indigo-500\">\n                Forgot your password?\n            </a>\n            </div>\n          </div>\n\n\n          <div class=\"flex items-center justify-between\">\n            <div class=\"flex items-center\">\n\n              <a href=\"#\" onClick={handleSwitchModal} class=\" mx-auto ml-2 block font-bold text-blue-900\">\n                Vous avez déjà un compte ?\n            </a>\n            </div>\n\n          </div>\n\n          <input type=\"submit\" id=\"submit\" value=\"Log in!\"\n            className=\" login group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n\n          />\n\n\n\n        </form>\n      </div>\n    </div>\n  )\n};\n\nexport default RegistrationForm;\n","/home/fredo/code/antivirus/antivirus/front/src/components/NewAccountMessage.jsx",[],"/home/fredo/code/antivirus/antivirus/front/src/contexts/testContext.jsx",[],["146","147"],"/home/fredo/code/antivirus/antivirus/front/src/pages/Dashboard.jsx",["148","149","150"],"import React, { useEffect, useState } from 'react';\nimport { useHistory, Redirect, Link } from 'react-router-dom';\n\nimport AuthService from \"../services/auth.service\";\nimport userService from '../services/user.service';\n\nimport VirusComponent from '../components/Dashboard/VirusComponent';\nimport NavBar from '../components/Dashboard/NavBar';\nimport DashboardBody from '../components/Dashboard/DashboardBody';\n\nconst Dashboard = () => {\n\n  const user = AuthService.getCurrentUser();\n  console.log(user);\n  const history = useHistory();\n\n  const [virus, setVirus] = useState([]);\n\n  useEffect(() => {\n\n    (async () => {\n      try {\n        console.log(\"DASHBOARD SE MONTE\");\n        const response = await userService.getUserBoard();\n\n        const userVirus = response.data.virus;\n\n        console.log(\"les virus\");\n        await setVirus(userVirus);\n        console.log(virus);\n      } catch (error) {\n        console.log(error);\n        console.log(error.response.data.message);\n        const errorMessage = error.response.data.message;\n        if (errorMessage === \"invalid token\" || errorMessage === \"jwt expired\") {\n          localStorage.removeItem(\"user\");\n          history.push('/');\n        }\n      }\n    })();\n\n    return () => {\n      console.log(\"DASHBOARD SE DEMONTE\");\n    }\n  }, [])\n\n  const logout = () => {\n    localStorage.removeItem(\"user\");\n    history.push('/');\n\n  };\n\n  if (user) {\n    return (\n      <>\n        <NavBar user={user} logout={logout}/>\n        <DashboardBody virus={virus} user={user} logout={logout} />\n      </>\n    )\n  } else {\n    return (<Redirect to=\"/login\" />)\n  }\n}\n\nexport default Dashboard\n","/home/fredo/code/antivirus/antivirus/front/src/pages/Login.jsx",["151","152","153","154","155","156","157","158"],"/home/fredo/code/antivirus/antivirus/front/src/services/auth.service.js",["159","160"],"/home/fredo/code/antivirus/antivirus/front/src/RouterAlternative.jsx",["161","162","163"],"import React, { useContext, useState } from 'react';\n// Module de routage\nimport { Route, Switch, Link } from 'react-router-dom';\nimport Login from './pages/Login';\nimport Dashboard from './pages/Dashboard';\n\n\n\nconst RouterAlternative = () => {\n\n\n\n  return (\n\n\n      <Switch>\n        <Route exact path={[\"/\", \"/login\"]} component={Login} />\n        <Route exact path=\"/dashboard\" component={Dashboard} />\n      </Switch>\n\n\n  )\n\n};\n\nexport default RouterAlternative\n","/home/fredo/code/antivirus/antivirus/front/src/services/auth-header.js",[],"/home/fredo/code/antivirus/antivirus/front/src/services/user.service.js",["164"],"/home/fredo/code/antivirus/antivirus/front/src/components/Dashboard/NavBar.jsx",["165","166"],"\nimport { useEffect, useState, useRef } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\n\nimport AuthService from \"../../services/auth.service\";\n\nconst NavBar = (props) => {\n\n  const history = useHistory();\n\n  const menuArea = useRef();\n  const { user, logout } = props;\n  const [isDisplay, setIsDisplay] = useState(false);\n\n  const toggleDisplay = () => {\n    setIsDisplay(!isDisplay);\n  };\n\n  const handleClick = (e) => {\n    if ( menuArea.current && menuArea.current.contains(e.target)) {\n      // inside click\n      return;\n    }\n    // outside modal click\n    setIsDisplay(false);\n  };\n\n\n  useEffect(() => {\n    console.log(\"dashboard se monte\");\n    // add when mounted\n    document.addEventListener(\"mousedown\", handleClick);\n    // return function to be called when unmounted\n    return () => {\n      console.log(\"dashboard se demonte\");\n      document.removeEventListener(\"mousedown\", handleClick);\n    };\n  }, []);\n\n\n\n  return (\n\n    <nav className=\"px-4 flex justify-between bg-white h-16 border-b-2\">\n      <div className=\"h-16 flex items-center\">\n        <Link className=\"h-16 flex items-center\n\t\t\t\t\tfocus:text-orange-500\" to='/'>\n          <img className=\"h-8 w-8\" src=\"https://tailwindui.com/img/logos/workflow-mark-indigo-500.svg\" alt=\"\" />\n        </Link>\n        <h1 className=\" ml-10\">{`Compte : ${user.role}`}</h1>\n      </div>\n\n      <div className=\" flex justify-end flex-grow\">\n        <h1 className=\"mr-10 my-auto\">{`Bienvenue ${user.username} !`}</h1>\n\n        {/* AVATART */}\n        <div className=\"relative my-auto mr-10\" ref={menuArea}>\n          <div>\n            <button id=\"login-menu\" aria-haspopup=\"true\" onClick={toggleDisplay} className=\"focus:outline-none\" >\n              <img class=\"h-10 w-10 rounded-full\" src=\"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&amp;ixid=eyJhcHBfaWQiOjEyMDd9&amp;auto=format&amp;fit=facearea&amp;facepad=4&amp;w=256&amp;h=256&amp;q=60\" alt=\"\" />\n              <span className=\"absolute bottom-2 right-0 inline-block w-3 h-3 bg-green-600   rounded-full\"></span>\n            </button>\n          </div>\n\n          {isDisplay ? <div  className=\"origin-top-right  absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5\">\n            <div className=\"py-1\" role=\"menu\" aria-orientation=\"vertical\" aria-labelledby=\"login-menu\">\n\n\n                <button onClick={logout} className=\"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 focus:outline-none focus:bg-gray-100 focus:text-gray-900\" role=\"menuitem\">\n                  Sign out\n                </button>\n\n            </div>\n          </div> : null }\n\n\n        </div>\n      </div>\n    </nav>\n  )\n};\n\nexport default NavBar;\n","/home/fredo/code/antivirus/antivirus/front/src/components/Dashboard/DashboardBody.jsx",[],["167","168"],"/home/fredo/code/antivirus/antivirus/front/src/components/Dashboard/VirusComponent.jsx",["169","170","171","172","173"],"\nconst VirusComponent = (props) => {\n\n  const { virus } = props;\n\n  const fileIcon = (file) => {\n    const pictureMimetype = [\"jpeg\", \"jpg\", \"png\"];\n    const videMimetype = [\"mp4\", \"mpeg\"];\n    const pdfMimetype = [\"pdf\"];\n    const zipMimetype = [\"zip\"];\n    switch (true) {\n      case ((pictureMimetype.includes(file.mimetype))):\n        return <i class=\"far text-4xl text-blue-600 opacity-60 fa-file-image\"></i>;\n        break;\n      case ((zipMimetype.includes(file.mimetype))):\n        return <i class=\"far text-4xl text-blue-600 opacity-60 fa-file-archive\"></i>;\n        break;\n      case ((pdfMimetype.includes(file.mimetype))):\n        return <i class=\"far text-4xl text-blue-600 opacity-60 fa-file-pdf\"></i>\n        break;\n\n      default:\n        return <i class=\"far text-4xl text-blue-600 opacity-60 fa-file\"></i>;\n        break;\n    };\n  };\n\n\n  return (\n    <tr>\n      <td className=\"px-6 py-4 whitespace-nowrap\">\n        <div className=\"flex items-center\">\n          <div className=\"flex-shrink-0 h-10 w-10\">\n            {fileIcon(virus)}\n          </div>\n          <div className=\"ml-4\">\n            <div className=\"text-sm font-medium text-gray-900\">\n              {virus.name}\n            </div>\n            <div className=\"text-sm text-gray-500\">\n              {`Post Date : ${virus.post_date}`}\n            </div>\n          </div>\n        </div>\n      </td>\n      <td className=\"px-6 py-4 whitespace-nowrap\">\n        <div className=\"text-sm text-gray-900\">{`Size : ${Number((virus.size / 1000).toFixed(1))} ko`}</div>\n        <div className=\"text-sm text-gray-500\">{`Type de fichier : ${virus.mimetype}`}</div>\n      </td>\n      <td className=\"px-6 py-4 whitespace-nowrap\">\n        <span className={`px-2 inline-flex text-xs ${(virus.report === \"valid\") ? \" bg-green-100\" : \" bg-red-100\"} leading-5 font-semibold rounded-full  text-green-800`}>\n          {virus.report}\n        </span>\n      </td>\n      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n        Admin\n              </td>\n      <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n        <h1 className=\"text-indigo-600 hover:text-indigo-900\">Edit</h1>\n      </td>\n    </tr>\n  )\n\n}\n\nexport default VirusComponent;\n",["174","175"],{"ruleId":"176","replacedBy":"177"},{"ruleId":"178","replacedBy":"179"},{"ruleId":"176","replacedBy":"180"},{"ruleId":"178","replacedBy":"181"},{"ruleId":"182","severity":1,"message":"183","line":5,"column":3,"nodeType":"184","messageId":"185","endLine":5,"endColumn":11},{"ruleId":"182","severity":1,"message":"186","line":7,"column":8,"nodeType":"184","messageId":"185","endLine":7,"endColumn":20},{"ruleId":"182","severity":1,"message":"187","line":11,"column":7,"nodeType":"184","messageId":"185","endLine":11,"endColumn":20},{"ruleId":"176","replacedBy":"188"},{"ruleId":"178","replacedBy":"189"},{"ruleId":"182","severity":1,"message":"190","line":14,"column":13,"nodeType":"184","messageId":"185","endLine":14,"endColumn":18},{"ruleId":"182","severity":1,"message":"191","line":14,"column":20,"nodeType":"184","messageId":"185","endLine":14,"endColumn":33},{"ruleId":"192","severity":1,"message":"193","line":55,"column":52,"nodeType":"194","messageId":"195","endLine":55,"endColumn":93,"fix":"196"},{"ruleId":"192","severity":1,"message":"197","line":58,"column":52,"nodeType":"194","messageId":"195","endLine":58,"endColumn":90,"fix":"198"},{"ruleId":"192","severity":1,"message":"197","line":74,"column":48,"nodeType":"194","messageId":"195","endLine":74,"endColumn":93,"fix":"199"},{"ruleId":"200","severity":1,"message":"201","line":77,"column":41,"nodeType":"202","messageId":"203","endLine":77,"endColumn":43},{"ruleId":"192","severity":1,"message":"197","line":82,"column":50,"nodeType":"194","messageId":"195","endLine":82,"endColumn":96,"fix":"204"},{"ruleId":"192","severity":1,"message":"193","line":88,"column":48,"nodeType":"194","messageId":"195","endLine":88,"endColumn":90,"fix":"205"},{"ruleId":"206","severity":1,"message":"207","line":149,"column":15,"nodeType":"208","endLine":149,"endColumn":107},{"ruleId":"182","severity":1,"message":"209","line":1,"column":17,"nodeType":"184","messageId":"185","endLine":1,"endColumn":25},{"ruleId":"176","replacedBy":"210"},{"ruleId":"178","replacedBy":"211"},{"ruleId":"182","severity":1,"message":"209","line":2,"column":22,"nodeType":"184","messageId":"185","endLine":2,"endColumn":30},{"ruleId":"182","severity":1,"message":"212","line":3,"column":8,"nodeType":"184","messageId":"185","endLine":3,"endColumn":13},{"ruleId":"182","severity":1,"message":"213","line":9,"column":16,"nodeType":"184","messageId":"185","endLine":9,"endColumn":23},{"ruleId":"176","replacedBy":"214"},{"ruleId":"178","replacedBy":"215"},{"ruleId":"182","severity":1,"message":"209","line":1,"column":36,"nodeType":"184","messageId":"185","endLine":1,"endColumn":44},{"ruleId":"216","severity":1,"message":"217","line":50,"column":6,"nodeType":"218","endLine":50,"endColumn":8,"suggestions":"219"},{"ruleId":"176","replacedBy":"220"},{"ruleId":"178","replacedBy":"221"},{"ruleId":"192","severity":1,"message":"193","line":56,"column":52,"nodeType":"194","messageId":"195","endLine":56,"endColumn":93,"fix":"222"},{"ruleId":"192","severity":1,"message":"197","line":59,"column":52,"nodeType":"194","messageId":"195","endLine":59,"endColumn":90,"fix":"223"},{"ruleId":"192","severity":1,"message":"197","line":75,"column":48,"nodeType":"194","messageId":"195","endLine":75,"endColumn":93,"fix":"224"},{"ruleId":"200","severity":1,"message":"201","line":78,"column":41,"nodeType":"202","messageId":"203","endLine":78,"endColumn":43},{"ruleId":"192","severity":1,"message":"197","line":83,"column":50,"nodeType":"194","messageId":"195","endLine":83,"endColumn":96,"fix":"225"},{"ruleId":"192","severity":1,"message":"193","line":89,"column":48,"nodeType":"194","messageId":"195","endLine":89,"endColumn":90,"fix":"226"},{"ruleId":"206","severity":1,"message":"207","line":160,"column":15,"nodeType":"208","endLine":160,"endColumn":107},{"ruleId":"176","replacedBy":"227"},{"ruleId":"178","replacedBy":"228"},{"ruleId":"182","severity":1,"message":"229","line":2,"column":32,"nodeType":"184","messageId":"185","endLine":2,"endColumn":36},{"ruleId":"182","severity":1,"message":"230","line":7,"column":8,"nodeType":"184","messageId":"185","endLine":7,"endColumn":22},{"ruleId":"216","severity":1,"message":"231","line":45,"column":6,"nodeType":"218","endLine":45,"endColumn":8,"suggestions":"232"},{"ruleId":"182","severity":1,"message":"233","line":42,"column":15,"nodeType":"184","messageId":"185","endLine":42,"endColumn":23},{"ruleId":"192","severity":1,"message":"193","line":49,"column":52,"nodeType":"194","messageId":"195","endLine":49,"endColumn":93,"fix":"234"},{"ruleId":"192","severity":1,"message":"197","line":52,"column":52,"nodeType":"194","messageId":"195","endLine":52,"endColumn":90,"fix":"235"},{"ruleId":"192","severity":1,"message":"197","line":68,"column":48,"nodeType":"194","messageId":"195","endLine":68,"endColumn":93,"fix":"236"},{"ruleId":"200","severity":1,"message":"201","line":71,"column":41,"nodeType":"202","messageId":"203","endLine":71,"endColumn":43},{"ruleId":"192","severity":1,"message":"197","line":76,"column":50,"nodeType":"194","messageId":"195","endLine":76,"endColumn":96,"fix":"237"},{"ruleId":"192","severity":1,"message":"193","line":82,"column":48,"nodeType":"194","messageId":"195","endLine":82,"endColumn":90,"fix":"238"},{"ruleId":"206","severity":1,"message":"207","line":145,"column":15,"nodeType":"208","endLine":145,"endColumn":79},{"ruleId":"182","severity":1,"message":"239","line":2,"column":9,"nodeType":"184","messageId":"185","endLine":2,"endColumn":19},{"ruleId":"240","severity":1,"message":"241","line":39,"column":1,"nodeType":"242","endLine":44,"endColumn":3},{"ruleId":"182","severity":1,"message":"243","line":1,"column":17,"nodeType":"184","messageId":"185","endLine":1,"endColumn":27},{"ruleId":"182","severity":1,"message":"209","line":1,"column":29,"nodeType":"184","messageId":"185","endLine":1,"endColumn":37},{"ruleId":"182","severity":1,"message":"229","line":3,"column":25,"nodeType":"184","messageId":"185","endLine":3,"endColumn":29},{"ruleId":"240","severity":1,"message":"241","line":22,"column":1,"nodeType":"242","endLine":24,"endColumn":3},{"ruleId":"182","severity":1,"message":"244","line":5,"column":8,"nodeType":"184","messageId":"185","endLine":5,"endColumn":19},{"ruleId":"182","severity":1,"message":"245","line":9,"column":9,"nodeType":"184","messageId":"185","endLine":9,"endColumn":16},{"ruleId":"176","replacedBy":"246"},{"ruleId":"178","replacedBy":"247"},{"ruleId":"182","severity":1,"message":"248","line":8,"column":11,"nodeType":"184","messageId":"185","endLine":8,"endColumn":23},{"ruleId":"249","severity":1,"message":"250","line":14,"column":9,"nodeType":"251","messageId":"252","endLine":14,"endColumn":15},{"ruleId":"249","severity":1,"message":"250","line":17,"column":9,"nodeType":"251","messageId":"252","endLine":17,"endColumn":15},{"ruleId":"249","severity":1,"message":"250","line":20,"column":9,"nodeType":"251","messageId":"252","endLine":20,"endColumn":15},{"ruleId":"249","severity":1,"message":"250","line":24,"column":9,"nodeType":"251","messageId":"252","endLine":24,"endColumn":15},{"ruleId":"176","replacedBy":"253"},{"ruleId":"178","replacedBy":"254"},"no-native-reassign",["255"],"no-negated-in-lhs",["256"],["255"],["256"],"no-unused-vars","'Elements' is defined but never used.","Identifier","unusedVar","'CheckoutForm' is defined but never used.","'stripePromise' is assigned a value but never used.",["255"],["256"],"'error' is assigned a value but never used.","'paymentMethod' is assigned a value but never used.","no-useless-computed-key","Unnecessarily computed property [\"password\"] found.","Property","unnecessarilyComputedProperty",{"range":"257","text":"258"},"Unnecessarily computed property [\"email\"] found.",{"range":"259","text":"260"},{"range":"261","text":"260"},"valid-typeof","Invalid typeof comparison value.","Literal","invalidValue",{"range":"262","text":"260"},{"range":"263","text":"258"},"jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","'useState' is defined but never used.",["255"],["256"],"'Modal' is defined but never used.","'newName' is assigned a value but never used.",["255"],["256"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'handleClick'. Either include it or remove the dependency array.","ArrayExpression",["264"],["255"],["256"],{"range":"265","text":"258"},{"range":"266","text":"260"},{"range":"267","text":"260"},{"range":"268","text":"260"},{"range":"269","text":"258"},["255"],["256"],"'Link' is defined but never used.","'VirusComponent' is defined but never used.","React Hook useEffect has missing dependencies: 'history' and 'virus'. Either include them or remove the dependency array.",["270"],"'response' is assigned a value but never used.",{"range":"271","text":"258"},{"range":"272","text":"260"},{"range":"273","text":"260"},{"range":"274","text":"260"},{"range":"275","text":"258"},"'useHistory' is defined but never used.","import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","'useContext' is defined but never used.","'AuthService' is defined but never used.","'history' is assigned a value but never used.",["255"],["256"],"'videMimetype' is assigned a value but never used.","no-unreachable","Unreachable code.","BreakStatement","unreachableCode",["255"],["256"],"no-global-assign","no-unsafe-negation",[1567,1579],"\"password\"",[1780,1789],"\"email\"",[2233,2242],[2784,2793],[2963,2975],{"desc":"276","fix":"277"},[1667,1679],[1880,1889],[2333,2342],[2884,2893],[3063,3075],{"desc":"278","fix":"279"},[1251,1263],[1464,1473],[1917,1926],[2468,2477],[2647,2659],"Update the dependencies array to be: [handleClick]",{"range":"280","text":"281"},"Update the dependencies array to be: [history, virus]",{"range":"282","text":"283"},[1844,1846],"[handleClick]",[1296,1298],"[history, virus]"]